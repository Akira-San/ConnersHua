# Jshop小程序商城


#### 项目介绍
Jshop小程序商城，是一款开源的电商系统，包含微信小程序、支付宝小程序、APP、公众号和H5端，为大中小企业提供移动电子商务优秀的解决方案。

后台采用Thinkphp5.1框架开发，执行效率、扩展性、稳定性值得信赖。并且Jshop小程序商城上手难度低，可大量节省定制化开发周期。

前台H5使用Vue开发，在页面的打开和渲染效率上更快，下单流程流畅自然，可大大增加用户体验，提升订单量。

强大的促销引擎，多种促销方式自由搭配，满足各种场景的促销方式需求，做活动更灵活简单，并且在促销的扩展上也非常方便。


### 最新uniapp简约模板介绍

uni-app简约序模板，全新UI设计，更多交互细节，我们倾尽全力为您提供更加流畅舒爽的体验，增加对支付宝小程序、APP的支持，实现一个后台，管理5个前端。

同时又实现了一套前端代码，发布多个平台，为您的业务可以提供更加强有力的支撑！


#### 关于开源
这不是一款免费的系统，商用记得授权哦。

之所以不彻底免费，一方面是可以让我们有持续维护下去的动力和资源，另外一方面也是不想让您有后顾之忧，避免后期尴尬。

我们的团队水平有限，也是在探索中学习，在改进。之所以开源，就是为了方便大家，也是为了提升下该项目的质量，我们相信有您的参与，可以使我们的系统更加完善和健壮。

#### 功能介绍

 + 商品管理，单规格、多规格商品管理，品牌、分类管理、商品评价
 + 订单管理，订单支付、发货、取消、售后等
 + 会员管理，会员列表，消息管理等
 + 运营管理，广告管理、文章管理
 + 微信管理，小程序管理、微信公众号管理、模板列表、公众号菜单管理
 + 促销管理，商品促销、订单促销、优惠券、团购秒杀
 + 财务管理，支付单、退款单管理、提现管理、账户资金管理
 + 控制面板，计划任务、插件、图片、地区、消息、店铺配置、支付方式、配送方式、物流公司管理。信任登录插件、阿里云OSS插件、阿里云短信插件、微信消息模板插件、分销功能
 + 门店管理，门店列表。门店核销、店员管理、提货单管理。
 + 智能表单，表单列表、表单统计、表单提交管理、表单小程序码等
 + 统计报表，商品销量统计、财务收款统计、订单销量统计
 + 页面管理，布局管理，页面可视化操作



#### H5端说明
H5端采用Vue开发，数据和页面分离，封装APP时体验效果也更好。H5端可以放在离客户最近的地方，比如单独服务器、电脑桌面、PAD、手机、广告机等。

#### 智能表单说明
智能表单包含有：订单、付款码、留言、反馈、登记、调研这几种类型，可实现店铺收款、门店内扫码下单、活动预约、活动预定、会议登记、在线报名、上课签到等等。

智能表单可以为您的线上线下结合提供更强大的助力。

#### 项目演示
- uniapp简约模板项目地址：https://gitee.com/hnjihai/uniapp
- uniapp简约模板体验地址：https://demo.jihainet.com/wap
- 前台H5演示：[https://b2c.jihainet.com/](https://b2c.jihainet.com/)
- 后台演示：[https://b2c.jihainet.com/manage/](https://b2c.jihainet.com/manage/)
- QQ交流群：823732583（开发手册、接口文档、操作手册请进群查看哦~）
- 交流社区：[https://bbs.jihainet.com/](https://bbs.jihainet.com/)
- 小程序体验二维码

![输入图片说明](https://images.gitee.com/uploads/images/2018/1018/184408_a1c0d706_8503.jpeg "gh_03bc4364b4dc_344.jpg")

- 简约模板体验二维码

![输入图片说明](https://gitee.com/uploads/images/2019/0409/182147_ecec17d7_8503.png "1554805258.png")


- 安卓APP体验二维码【可进群下载体验】

![输入图片说明](https://images.gitee.com/uploads/images/2018/1026/163026_31132341_8503.png "1540542519.png")



#### 项目截图
![输入图片说明](https://images.gitee.com/uploads/images/2018/1019/104933_383a7831_8503.png "img(1).png")
#### 后台截图
![输入图片说明](https://images.gitee.com/uploads/images/2018/1019/104952_d154e8b4_8503.png "首页.png")
![输入图片说明](https://images.gitee.com/uploads/images/2018/1019/105206_a2dfa9e2_8503.png "商品列表.png")
![输入图片说明](https://images.gitee.com/uploads/images/2018/1019/105222_7caa99b6_8503.png "添加商品.png")
![输入图片说明](https://images.gitee.com/uploads/images/2018/1019/105317_82da6a34_8503.png "添加优惠券.png")


#### 目录结构
初始的目录结构如下：
~~~
wwwroot  WEB部署目录（或者子目录）
├─addons                应用插件目录
├─application           应用目录
│  ├─api                api接口模块目录
│  ├─b2c                前台模块
│  ├─common             公共模块目录
│  ├─crontab            定时任务目录
│  ├─job                任务队列目录
│  ├─manage             后台管理目录
│  ├─wechat             接收微信消息目录
│  ├─command.php        命令行工具配置文件
│  ├─common.php         公共函数文件
│  ├─tags.php           应用行为扩展定义文件
│
├─config                配置文件目录
├─h5                    前台H5源码
├─public                WEB目录（对外访问目录）
│  ├─install            自动安装目录
│  ├─static             前台静态文件
│  ├─wap                前台手机端运行目录
│  ├─index.php          入口文件
│  └─.htaccess          用于apache的重写
│
├─thinkphp              thinkphp框架系统目录
├─update                版本升级包
├─extend                扩展类库目录
├─runtime               应用的运行时目录（可写，可定制）
├─vendor                第三方类库目录（Composer依赖库）
├─wechat_app            微信小程序源码
├─build.php             自动生成定义文件（参考）
├─composer.json         composer 定义文件
├─LICENSE.txt           授权说明文件
├─README.md             README 文件
├─think                 命令行入口文件
├─crontab               定时任务命令行入口文件
~~~

#### 更新说明
2019-11-20 v2.1.0
更新日志
1. 修改伪静态，更好的兼容h5端和pc端及后台，详见https://www.jihainet.com/index/article/index/id/106.html
2. 订单售后流程优化，从根本上解决售后的各种问题
3. 订单发货流程优化，兼容部分发货和合并批量发货，优化发货单模块
4. 后台订单列表页售后信息显示优化
5. 文章分类模块优化
6. 文章上面增加描述和点击量字段
7. 发票流程优化，前后端把发票单独拎出来
8. 登陆注册页面增加用户协议和隐私条款，后台平台设置里面可以配置
9. 前端支付页面接口调整，直接请求支付单接口
10. 后台layui框架升级到2.5.5
11. 前端个人中心样式调整，兼容两种样式
12. uni-app编译模式从非自定义模式修改成自定义模式
13. 修改一些已知的bug
14. 前端模板uni-app从独立git库移到当前项目根目录下/uni-app,这样以后前后端版本可以对应起来了。
15. 后台左侧菜单调整

2019-09-28 v2.0.7
更新日志
1.  修复页面团购秒杀过期问题
2. 修复表单编辑问题
3. 普通分销插件细节优化
4. 修复商品自定义规格问题
5. 优化订单取消自动脚本
6. 优化订单自动完成脚本
7. 优化后台订单列表订单类型筛选
8. 页面可视化编辑优化
9. 优化支付宝小程序登陆接口
10. 统一处理后台报错提示信息，当没有权限的时候，友好的报错。
11. 修改商品列表标签造成js报错的问题
12. 增加抽奖插件（需付费）
13. 优化uni-app版本页面url方式，把#号拿掉了
14. 使用积分核销记录增加备注
15. 新增支付宝在线退款功能
16. 商品下架不允许加入购物车，不允许在购物车列表显示
17. 保证接口统一访问地址api.html,之前可以直接访问接口，现在修复了
18. 优化可视化编辑，拼团和促销为空的问题
19. 后台管理员页面翻页优化
20. 余额充值问题优化
21. 插件配置优化
22. 优惠券增加变更领取人
23. 会员列表弹框报错修复
24. 快递鸟插件顺丰优化
25. 修复快递查询出错的bug
26. 优化后台列表高度
27. 修复大数据量或者网络不好使劲提交订单的时候，订单明细为空的bug
28. 修复插件api登陆判断未带token的时候，mysql报错的问题
29. 增加清楚应用缓存设置，模板缓存
30. 优化公众号关注回复
31. 优化没有挂载点的时候，插件安装失败的问题
32. 修复卸载插件的时候时候，钩子无法去除的bug
33. 后台订单统计和财务统计加上汇总
34. 图片表增加阿里云类型
35. 优化页面排版数据过多的问题
36. 修复支付和登陆微信不一致导致无法支付的问题
37. 修复提货单任命查询的问题
38. 增加视频和视频播放功能
39. 商品编辑，商品简介去掉多于冒号，配送方式满多少包邮提示语修复
40. 修复异常情况下商品评论不显示的bug
41. 修复批量打印快递单无弹窗的bug
42. 内置短信模板增加参数备注，用迈信等短信通道想修改短信内容的话，很简单了。
43. 后台商品分类修改的时候，增加父分类较远，防止陷入死循环
44. 修复不绑定手机号时无邀请人的bug
45. 支付的时候，支付名称修改，取商品名称
46. 修复商品类型，参数全部取消时报错的处理。
47. 优化库存描述语
48. 添加商品时，商品分类的显示优化
49. 表单表表bug修复
50. 只能表单增加导出功能
51. 地区表增加邮编
52. 登陆日志增加用户名
53. 商品增加快捷上下架，商品列表排序优化
54. 增加定时删除7天前日志的功能，增加操作日志批量删除功能
55. 修复团购秒杀可以添加多个出校条件的问题
56. 后台样式细节优化


2019-07-31 v2.0.6
更新日志
1. 可视化图片分组添加最小高度
2. 禁止可视化垃圾桶拖拽
3. 1086短信接口改为curl
4. 增加是否绑定手机号码选项，优化后台生成用户方法
5. 修复购物车数量加减的问题
6. 生成订单的时候，有几个值没有保存成功的bug，感谢@打酱油网友提供的bug
7. 修复运费包邮bug
8. 开启规格处增加提示
9. 新增拼团功能
10. 微信登陆免手机号码校验
11. 第三方登录的时候，免手机号码验证登陆的时候，保存推荐人信息
12. 如果是第三方微信登陆，增加直接登陆
13. 用户列表显示编号
14. 修复团购秒杀删除商品后依然显示问题
15. 门店表距离获取 表前缀bug修复
16. 修复商品商品详情页品牌为空的时候，显示null的问题
17. 门店列表表前缀sql修复
18. 小程序可视化单图组件添加按钮功能
19. 订单列表加类型筛选
20. 商品详情显示优化
21. 修复库存问题
22. 可视化编辑添加文字按钮颜色
23. 小程序价格区间问题修复
24. 微信公众号无感登陆支付
25. 公众号自动登陆调整
26. 修复售后单详情查询的时候必填user_id的问题
27. 商品分类排序问题修复
28. 文章详情接口修改(文章发布时间修改为相对时间)
29. 手机号验证规则修复
30. 修复后台用户信息保存推荐人信息错误的bug
31. 修复多规格商品添加时，第一次无法保存库存问题
32. 修改可视化商品组件手动选择数据绑定
33. 修复团购秒杀问题
34. 微信和支付宝同步回调地址增加上支付单号
35. 修复门店订单有运费问题
36. 后台提货单操作,提货单详情接口修改
37. 订单售后状态简单修改
38. 修复首页多个商品组件时问题
39. 商品列表问题修复
40. 商品列表筛选调整
41. 商品分类优化
42. 页面布局修改
43. 修改商品和货品库存显示
44. 优化权限问题，修复订单支付无权限bug
45. 优化角色权限选择，可以单独选择父节点
46. 商品添加扩展分类
47. 后台商品列表动态计算库存
48. 修复公众号菜单问题
49. 修复关键词菜单
50. 图文编辑原文地址必填项问题修复，增加系统图文地址
51. 商品增加批量出库库存，改价
52. 修复商品评论，评论优化
53. 分类增加是否显示
54. 页面增加添加功能
55. 会员增加批量删除
56. 新增分销插件
57. 增加每日提现上限
58. 接口增加全局安全过滤
59. 后台登录添加背景动画，优化后台登录
60. 后台管理弹框显示修改
61. 余额变动优化，增加余额当前页统计，余额筛选类型修复
62. 修复收货地址前端输入换行问题
63. 修复后台修改管理员密码问题
64. 优化后台优化输出结构，避免节点无权限时乱码
65. 优化公众号配置地址
66. 修复原生小程序商品列表翻页问题
67. 海报生成提出来，统一处理
68. 订单发货问题优化
69. 修复vue，H5底部遮挡问题
70. 优化添加商品按钮
71. 增加加解密函数
72. 增加图片缓存，路由缓存
73. 优化分享设置，后台可设置分享
74. 后台商品列表修复高级筛选
75. 商品评价列表优化
76. 表单功能修复
77. uniapp增加智能表单
78. 表单增加提交次数限制
79. uniapp增加微信模板消息
80. 增加关于我们后台可直接配置
81. 添加批量购物车接口
82. 修复商品规格编辑问题
83. 购物车和促销价格使用精确计算
84. 微信图文增加创建和更新时间
85. 最低提现金额不能小于0.01
86. 自定义页面增加操作说明
87. 配置统一获取方法优化确保只查询一次数据库
88. 修复广告位
89. 修复编辑文章时分类问题
90. 可视化单图组件增加按钮以及颜色

2019-05-23 v2.0.5
1. 修复可视化编辑保存默认配置问题

2019-05-22 v2.0.4
1. 优化海报生成的时候确保目录存在，不存在的话递归创建目录
2. 微信授权登陆流程优化（微信头像等）
3. 优化app的微信支付
4. 修复文章分类bug
5. 优化发送短信流程，短信错误提示都加上了，错误信息可输出到前台
6. 优化用户名长度校验
7. 第三方登录接口修改
8. 权限问题修复
9. 鲜花模板增加团购秒杀模块
10. 验证码判断不需要判断ip地址
11. 图片上传优化
12. 商品详情页购物车数量和购物车优化显示bug修复
13. 购物车改造，增加购物车类型，支持多种商品类型下单，玩法更丰富
14. 下单流程优化，增加订单类型，和购物车类型想对应，如果是系统里的商品下单的话，可根据此类型来扩充新玩法，比如拼团，砍一刀等等
15. 后台一级菜单增加默认图标
16. 增加拼团功能
17. 商品增加销量，商品增加推荐商品接口
18. 修复老的微信小程序海宝生成失败后的返回数据错误的问题
19. 优化pc端
20. 增加uni-app版本首页可视化编辑
21. 修复生成退款单的时候，有多条退款单但是只生成一条的bug，感谢网友axxxz提供的bug，非常感谢
22. 门店有货坐标保存记录，坐标保存到两个字段里，方便计算门店距离
23. 发票税号只能输入数字bug修复
24. 积分提示重复提交错误修改
25. 退款售后增加售后审核钩子
26. curl强制ipV4
27. 智能表单调整为二维码直接查看
28. 修复多规格默认规格的问题
29. 商品增加价格填写提示
30. 公众号菜单增加删除功能
31. IE浏览器不显示icon的问题修复


#### 环境要求
- Nginx/Apache/IIS
- PHP5.6+
- MySQL5.5+

建议使用环境：Linux + Nginx1.14 + PHP7 + MySQL5.6

#### 部署说明

[安装部署](https://gitee.com/hnjihai/jshop_mall/wikis/%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2?sort_id=881805)

#### nginx 伪静态配置，apache请勿使用此配置
~~~
    location /wap/ {
        	try_files $uri /wap/index.html;
    }
    location / {
        if (!-e $request_filename){
            rewrite  ^(.*)$  /index.php?s=$1  last;   break;
        }
    }
~~~

#### Apache 伪静态配置
~~~
    <IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^wap/(.*) /wap/index.html [QSA,PT,L]
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond $1 !^(wap)
    RewriteRule ^(.*)$ index.php?s=/$1 [QSA,PT,L]
    </IfModule>
~~~

#### 安全&缺陷
如果你发现了一个安全漏洞或缺陷，请发送邮件到 jima@jihainet.com。所有的安全漏洞都将及时得到解决。


#### License

Jshop小程序商城遵循JPPL（吉海科技Jshop系列付费产品许可）协议。

本项目包含的第三方源码和二进制文件之版权信息另行标注。

版权所有Copyright © 2019 by 吉海科技 (https://www.jihainet.com)

All rights reserved。

吉海科技Jshop系列付费产品许可协议详情请参阅 [LICENSE.txt](LICENSE.txt)