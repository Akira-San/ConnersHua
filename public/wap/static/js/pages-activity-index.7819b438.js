(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-activity-index"],{"157f":function(t,e,i){var a=i("dd25");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5f6a00b5",a,!0,{sourceMap:!1,shadowMode:!1})},"5d06":function(t,e,i){"use strict";i.r(e);var a=i("f498"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"8c1d":function(t,e,i){"use strict";var a=i("157f"),n=i.n(a);n.a},"963b":function(t,e,i){"use strict";i.r(e);var a=i("cf00"),n=i("5d06");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("8c1d");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"b53aed2a",null);e["default"]=r.exports},cf00:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"conbox"},[i("v-uni-view",{staticClass:"container"},[i("v-uni-image",{staticClass:"cont",attrs:{src:"/static/img/bg.png",mode:""}}),i("v-uni-image",{staticClass:"caidai",attrs:{src:"/static/img/caidai.png",mode:""}}),i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"header-title"},[i("v-uni-view",{staticClass:"left"},[t._v("免费次数："),i("v-uni-text",{staticStyle:{color:"#E4431A"}},[t._v(t._s(t.chishu))])],1),i("v-uni-view",{staticClass:"left"},[t._v("账户积分："),i("v-uni-text",{staticStyle:{color:"#E4431A"}},[t._v(t._s(t.jifen))])],1),i("v-uni-view",{staticClass:"right",on:{click:function(e){e=t.$handleEvent(e),t.getmyPrize(e)}}},[t._v("抽奖记录 >")])],1)],1),i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"canvas-container"},[i("v-uni-view",{staticClass:"canvas-content",attrs:{animation:t.animationData,id:"zhuanpano"}},[i("v-uni-view",{staticClass:"canvas-line"},t._l(t.awardsList,function(t,e){return i("v-uni-view",{key:e,staticClass:"canvas-litem",style:[{transform:"rotate("+t.lineTurn+")"}]})}),1),i("v-uni-view",{staticClass:"canvas-list"},t._l(t.awardsList,function(e,a){return i("v-uni-view",{key:a,staticClass:"canvas-item",style:[{zIndex:a}]},[i("v-uni-view",{staticClass:"canvas-item-text",style:[{transform:"rotate("+e.turn+")"}]},[i("v-uni-text",[t._v(t._s(e.award))]),0==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/kongjiang.png"}}):t._e(),1==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/jifen.png"}}):t._e(),2==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/youhuiquan.png"}}):t._e(),3==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/yue.png"}}):t._e(),4==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/shangpin.png"}}):t._e()],1)],1)}),1)],1),i("v-uni-view",{staticClass:"canvas-btn",class:t.btnDisabled,on:{click:function(e){e=t.$handleEvent(e),t.playReward(e)}}},[t._v("开始")])],1)],1),i("v-uni-view",{staticClass:"typecheckbox"}),i("v-uni-view",{staticClass:"guize"},[i("v-uni-view",{staticClass:"title"},[t._v("规则说明")]),t._l(t.awardsConfig.rule,function(e,a){return i("v-uni-view",{key:a,staticClass:"g_item"},[t._v(t._s(e))])})],2),i("v-uni-view",{staticClass:"typecheckbox2"}),t.r_flg?i("v-uni-view",{staticClass:"shadowbox",on:{click:function(e){e=t.$handleEvent(e),t.closeshadow(e)}}},[i("v-uni-view",{staticClass:"myrewards",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.openshadow(e)}}},[i("v-uni-view",{staticClass:"title"},[t._v("抽奖记录")]),i("v-uni-view",{staticClass:"itembox"},t._l(t.myPrizelist,function(e,a){return i("v-uni-view",{key:a,staticClass:"item"},[i("div",{staticClass:"t"},[i("v-uni-text",{staticClass:"left"},[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"right"},[t._v(t._s(e.ctime_name))])],1),i("div",{staticClass:"b"},[t._v(t._s(e.prize_content))])])}),1)],1)],1):t._e()],1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},dd25:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.conbox[data-v-b53aed2a]{width:%?750?%;height:100vh;overflow-x:hidden;overflow-y:scroll}.container[data-v-b53aed2a],uni-image.cont[data-v-b53aed2a]{width:%?750?%;min-height:100vh;height:auto;position:relative}uni-image.cont[data-v-b53aed2a]{height:100%;position:absolute;z-index:0}uni-image.caidai[data-v-b53aed2a]{position:absolute;top:0;left:0;width:%?750?%;height:%?1024?%}.header[data-v-b53aed2a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;\n\t\t/* height: 246upx; */padding-top:%?48?%;padding-bottom:%?40?%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;z-index:3}.header-title[data-v-b53aed2a]{width:100%;height:%?60?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 %?48?%;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.header-title>uni-view[data-v-b53aed2a]{padding:%?8?% %?16?%;border:1px solid #d89720;color:#d89720;font-size:%?28?%;border-radius:%?26?%}\n\n\t/* 转盘 */.canvas-container[data-v-b53aed2a]{margin:0 auto;position:relative;width:%?600?%;height:%?600?%;background:url(/static/img/circle.png) no-repeat;background-size:cover;border-radius:50%}.canvas[data-v-b53aed2a]{width:100%;height:100%;display:block!important;border-radius:50%}.canvas-content[data-v-b53aed2a]{position:absolute;left:0;top:0;z-index:1;display:block;width:%?600?%;height:%?600?%;border-radius:inherit\n\t\t/* background-clip: padding-box; */\n\t\t/* background-color: #ffcb3f; */}.canvas-element[data-v-b53aed2a]{position:relative;z-index:1;width:inherit;height:inherit;border-radius:50%}.canvas-list[data-v-b53aed2a]{position:absolute;left:0;top:0;width:inherit;height:inherit;z-index:9999}.canvas-item[data-v-b53aed2a]{position:absolute;left:0;top:0;width:100%;height:100%;color:#e4370e\n\t\t/* text-shadow: 0 1upx 1upx rgba(255, 255, 255, 0.6); */}.canvas-item-text[data-v-b53aed2a]{position:relative;display:block;padding-top:%?46?%;margin:0 auto;text-align:center;-webkit-transform-origin:50% %?300?%;-ms-transform-origin:50% %?300?%;transform-origin:50% %?300?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#fb778b}.canvas-item-text uni-text[data-v-b53aed2a]{font-size:%?30?%}.canvas-item-text-img[data-v-b53aed2a]{width:%?50?%;height:%?50?%;padding-top:%?30?%}\n\n\t/* 分隔线 */.canvas-line[data-v-b53aed2a]{position:absolute;left:0;top:0;width:inherit;height:inherit;z-index:99}.canvas-litem[data-v-b53aed2a]{position:absolute;left:%?300?%;top:0;width:%?3?%;height:%?300?%;background-color:rgba(228,55,14,.4);overflow:hidden;-webkit-transform-origin:50% %?300?%;-ms-transform-origin:50% %?300?%;transform-origin:50% %?300?%}\n\n\t/**  \n* 抽奖按钮  \n*/.canvas-btn[data-v-b53aed2a]{position:absolute;left:%?260?%;top:%?260?%;z-index:400;width:%?80?%;height:%?80?%;border-radius:50%;color:#f4e9cc;background-color:#e44025;line-height:%?80?%;text-align:center;font-size:%?26?%;text-shadow:0 -1px 1px rgba(0,0,0,.6);-webkit-box-shadow:0 3px 5px rgba(0,0,0,.6);box-shadow:0 3px 5px rgba(0,0,0,.6);text-decoration:none}.canvas-btn[data-v-b53aed2a]:after{position:absolute;display:block;content:" ";left:%?12?%;top:%?-44?%;width:0;height:0;overflow:hidden;border-width:%?30?%;border-style:solid;border-color:rgba(0,0,0,0);border-bottom-color:#e44025}.canvas-btn.disabled[data-v-b53aed2a]{pointer-events:none;background:#b07a7b;color:#ccc}.canvas-btn.disabled[data-v-b53aed2a]:after{border-bottom-color:#b07a7b}.canvas-btn-table[data-v-b53aed2a]{color:#a83fdb;width:%?120?%;text-align:center;position:absolute;left:%?240?%;top:%?360?%;font-size:%?26?%;background-color:#fff;opacity:.9}.typecheckbox[data-v-b53aed2a]{width:100%;position:relative;z-index:3;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;font-size:%?28?%;top:%?-120?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:%?180?%;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end\n\t\t/* padding-top: 46upx; */}.typecheckbox2[data-v-b53aed2a]{width:100%;position:relative;z-index:3;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;font-size:%?28?%;top:%?-120?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:%?120?%;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end\n\t\t/* padding-top: 46upx; */}.typecheckbox uni-view[data-v-b53aed2a]{border:1px solid #ff3637;background:rgba(0,0,0,0);color:#ff3637;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:%?60?%;width:%?140?%;border-radius:%?50?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;display:flex;margin-left:%?20?%}.typecheckbox uni-view.active[data-v-b53aed2a]{background:#ff3637;color:#fff}.guize[data-v-b53aed2a]{width:%?502?%;min-height:%?300?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;z-index:3;background-image:-webkit-gradient(linear,left top,left bottom,from(#f48549),to(#f2642e));background-image:-o-linear-gradient(top,#f48549 0,#f2642e 100%);background-image:linear-gradient(-180deg,#f48549,#f2642e);border:%?18?% solid #e4431a;border-radius:16px;margin:0 auto;margin-top:%?-104?%;padding:%?48?%;\n\t\t/* box-sizing: border-box; */color:#fff}.guize .title[data-v-b53aed2a]{text-align:center;margin-bottom:%?28?%}.guize .g_item[data-v-b53aed2a]{font-family:PingFang-SC-Medium;font-size:%?24?%;color:#fff;letter-spacing:.5px;text-align:justify;line-height:20px}.shadowbox[data-v-b53aed2a]{width:%?750?%;height:100vh;position:fixed;top:0;left:0;z-index:999;background:rgba(0,0,0,.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.myrewards[data-v-b53aed2a]{width:%?600?%;min-height:%?80?%;background:#ffeedf;border:%?10?% solid #f2692f;color:#333;font-size:%?24?%;font-family:PingFang-SC-Medium;border-radius:%?40?%;padding:0 %?24?% %?20?%}.myrewards .title[data-v-b53aed2a]{font-family:PingFang-SC-Bold;font-size:16px;color:#e4431a;letter-spacing:.57px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-top:%?36?%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.myrewards .itembox[data-v-b53aed2a]{max-height:%?320?%;overflow-y:auto}.myrewards .item[data-v-b53aed2a]{width:100%;padding:%?12?% 0;-webkit-box-sizing:border-box;box-sizing:border-box;border-bottom:%?1?% dashed #ccc}.myrewards .item .t[data-v-b53aed2a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-bottom:%?10?%}.myrewards .item .b[data-v-b53aed2a]{font-size:12px;color:#999;text-align:left}',""])},f498:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("7f7f");var n=a(i("774e"));i("ac6a");var o={data:function(){return{awardsConfig:{chance:!0,prize:[]},awardsList:{},animationData:{},btnDisabled:"",thanksarr:[],chishu:0,mold:1,r_flg:0,myPrizelist:[],jifen:0}},onLoad:function(){this.initdata(this)},onReady:function(t){},methods:{getmyPrize:function(){var t=this;this.$api.myLottery({page:1,limit:1e3},function(e){t.myPrizelist=e.data,t.r_flg=1})},openshadow:function(){this.r_flg=1},closeshadow:function(){this.r_flg=0},initdata:function(t){var e=this;this.$api.lotteryConfig(function(t){if(t.status){e.awardsConfig=t.data,e.chishu=t.data.user.day_remaining,e.jifen=t.data.user.jifen;e.awardsConfig.prize.length;e.awardsConfig.prize.forEach(function(t,e){t.index=e}),e.drawAwardRoundel()}else e.$common.errorToShow(t.msg,function(){uni.navigateBack({delta:1})})})},drawAwardRoundel:function(){for(var t=this.awardsConfig.prize,e=[],i=1/t.length*360,a=0;a<t.length;a++)e.push({turn:a*i+"deg",lineTurn:a*i+i/2+"deg",award:t[a].title,type:t[a].type,id:t[a].id});this.chishu<1&&this.jifen<this.awardsConfig.integral_exchange?this.btnDisabled="disabled":this.awardsConfig.user.lottery?this.btnDisabled="":this.btnDisabled="disabled",this.awardsList=e},playReward:function(){var t=this;if(this.chishu<1){if(this.jifen<this.awardsConfig.integral_exchange)return this.$common.errorToShow("抽奖次数已经用完"),!1;this.jifen>=this.awardsConfig.integral_exchange&&this.$common.modelShow("提示","本次抽奖将消耗"+this.awardsConfig.integral_exchange+"积分，确认吗？",function(e){t.lottery()})}else this.lottery()},lottery:function(){var t=this;this.$api.lottery(function(e){if(e.status){var i=0,a=e.data.result;t.awardsList.forEach(function(t,e){t.id==a.id&&(i=e)});var o=t.awardsConfig.prize,s=4,r=3686;t.runDeg=t.runDeg||0;var d=t.runDeg;t.runDeg=t.runDeg+(360-t.runDeg%360)+(360*s-i*(360/o.length))+1,document.getElementById("zhuanpano").style="animation:rotate_before 4s 0ms ease forwards;",document.styleSheets[0].cssRules.length>0&&(0,n.default)(document.styleSheets[0].cssRules).forEach(function(t,e){"rotate_before"==t.name&&document.styleSheets[0].deleteRule(e)}),document.styleSheets[0].insertRule("@keyframes rotate_before{from{ transform: rotate("+d+"deg); }to{ transform: rotate("+t.runDeg+"deg);}}",8),t.btnDisabled="disabled";var l=t.awardsConfig,c=l.prize[i].type;if(t.jifen=t.chishu<=0?t.jifen-l.integral_exchange>=0?t.jifen-l.integral_exchange:0:t.jifen,t.chishu=t.chishu>1?t.chishu-1:0,0!=c){var b=t.getPrizeMsg(l.prize[i].type,l.prize[i].val);setTimeout(function(){this.$common.modelShow("恭喜","获得"+l.prize[i].title+"，"+b,function(t){setTimeout(function(){document.getElementById("zhuanpano").style=""},1e3)},!1),e.data.is_lottery.lottery?this.btnDisabled="":this.btnDisabled="disabled"}.bind(t),r)}else setTimeout(function(){this.$common.modelShow("很遗憾","没中奖，再接再厉！",function(t){setTimeout(function(){document.getElementById("zhuanpano").style=""},1e3)},!1),e.data.is_lottery.lottery?this.btnDisabled="":this.btnDisabled="disabled"}.bind(t),r)}else t.$common.modelShow("提示",e.msg)})},getPrizeMsg:function(t,e){var i="";switch(t){case 1:i="积分："+e+"个";break;case 2:i="优惠券：“"+e+"” 一张";break;case 3:i="余额："+e+"元";break;case 4:i="商品：“"+e+"”";break;default:break}return i}}};e.default=o}}]);